<properties
   pageTitle="Skaleeritavus kontroll-loend | Microsoft Azure'i"
   description="Skaleeritavus kontroll juhised Azure'i Autoscaling kujundus probleeme."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="christb"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="scalability-checklist"></a>Skaleeritavus kontroll-loend

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="service-design"></a>Teenuse kujundus
- **Sektsiooni töökoormus**. Kujundage osad eraldi ja lagundatav protsess. Tavaline reeglid probleemid ja ühe kohustusi põhimõtet järgides minimeerida suuruse iga osa. See võimaldab komponent osade levitatakse nii, et maksimeerib iga Arvuta üksuse (nt rolli või andmebaasi server) kasutamine. See lihtsustab ka mastaapimiseks rakenduse eksemplari teatud ressursid lisamisega. Lisateabe saamiseks vt [Arvutada eraldamine juhiseid](https://msdn.microsoft.com/library/dn589773.aspx).
- **Kujunduse jaoks skaleerimist**. Skaleerimist võimaldab rakenduste reageerida muutuv laadi suurendades ja rollid, eksemplaride arv väheneb järjekorrad ja muud teenused, mida nad kasutavad. Siiski peab taotluse selle mõeldud meeles. Näiteks rakendus ja kasutab teenuste peavad olema kodakondsuseta lubamiseks taotlusi marsruutida eksemplaris. See ka takistab lisamise või eemaldamisega teatud eksemplaride praeguse kasutajad negatiivselt mõjutavad. Saate tuleks rakendada ka konfiguratsiooni või automaatne avastamine eksemplaride kui need on lisatud ja eemaldada, nii, et kood rakenduse saab teha vajalikud marsruutimist. Näiteks võite veebirakenduse kasutada round-jaan lähenemisviisi kogum järjekorda taotlusi marsruutimiseks tausta teenused töötavad töötaja rollid. Veebirakenduse peate saama tuvastamine muudatused järjekorda edukalt marsruutimine taotlusi ja rakenduse Laadi jääk arvu.
- **Kui üksus Mastaapimissuvandite**. Lisaressursid kasvu kavandamine. Iga ressursi teada akna ülemises skaleerimist piirangud ja kasutada sharding või laguneda kaugemale need piirangud. Määratlege skaala ühikute süsteemi osas täpselt määratletud komplekti ressursid. See muudab rakendamine skaala-out toimingud lihtsamaks ja vähem negatiivset mõju, kuna võivad tekkida kirjavead rakenduse kaudu ressursside puudumine mingi osa üldist süsteemi piirangutega. Näiteks lisamise x veebi ja töötaja rollid võib y arvu täiendavate järjekorda ja vajalik z arv salvestusruumi kontod täiendavad töökoormus rollid loodud tegelema. Nii, et üksus Mastaapimissuvandite võib koosneda x veebi ja töötaja rollid, _y_ järjekorrad ja _z_ salvestusruumi kontod. Kujundage rakenduse, et see on lihtne mastaabitud, lisades skaala üks või mitu üksust.
- **Vältida kliendi osaleja**. Võimaluse korral tagada, et rakendus ei nõua osaleja. Seega marsruuditakse taotlusi mis tahes eksemplar ja eksemplaride arv on oluline. See aitab vältida selle pea kohal talletamise, toomine ja säilitades teavet iga kasutaja jaoks.
- **Ära platvormi autoscaling funktsioone**. Kus hosting platvormi toetab autoscaling võimalus, nt Azure Autoscale, eelistate kohandatud või muude tootjate menetlustele juhul, kui sisseehitatud süsteem ei saa täita teie vajadustele. Ajastatud skaleerimise reegleid kasutada, kui võimalik, et tagada ressursid on saadaval käivitamise kohe, kuid vajaduse korral toime tulla ootamatud muudatused vajadusel lisada reaktiivne autoscaling reegleid. Saate kasutada toimingute autoscaling teenuse juhtimise API autoscaling kohandada ja lisada kohandatud hinnale reeglid. Lisateabe saamiseks vt [Automaatne skaleerimist juhiseid](best-practices-auto-scaling.md).
- **Offload nõudvaid CPU/IO ülesandeid nimega tausttoimingud**. Kui teenus taotluse oodatakse käivitada või märkimisväärset vastu võtta kaua aega, offload selle eraldi tööülesande taotlus töötlemine. Kasutage töötaja rolli või taustal töökohtade (olenevalt hosting platvormi) nende ülesannete täitmiseks. See strateegia võimaldab teenuse jätkamiseks saada kutsed ja jäävad reageeri.  Lisateabe saamiseks vt [tausta töö juhiseid](best-practices-background-jobs.md).
- **Hajuta töökoormus tausta toimingute tegemiseks**. Kus on palju tausttoimingud, või tööülesannete nõuab palju aega või ressursse, töö laiali mitu Arvuta üksuste (nt töötaja rolli või tausta tööde haldamine). Üks võimalik lahendus, vt [Kiiruisutamises tarbijad mustri](https://msdn.microsoft.com/library/dn568101.aspx).
- **Kaaluge liikudes on _ühiskasutuses midagi_ arhitektuur**. Ühiskasutusse antud midagi arhitektuur kasutab sõltumatu, iseseisev sõlmed, mis on pole ühe punkti väide (nt ühisteenuste või salvestusruumi). Põhimõtteliselt saate süsteemi peaaegu lõputult skaala. Täielikult ühiskasutuses midagi lähenemine on üldiselt ei praktiline enamiku rakenduste puhul, anda seda võimaluste paremaks skaleeritavus jaoks kujundada. Näiteks serveripoolse seansi olek kasutuse vältimine, kliendi osaleja ja andmete eraldamine on hea näited liikudes ühiskasutuses midagi arhitektuur.

## <a name="data-management"></a>Andmehaldus

- **Kasutage andmete eraldamine**. Jagamine andmete mitmesse andmebaasid ja andmebaasi serverid või kujundus rakenduse kasutamine andmete talletamine teenuseid, mida saate sisestada eraldamine läbipaistev (näiteks Azure'i SQL-andmebaasi elastne andmebaasi ja Azure tabelimäluga). Seda moodust aitab maksimeerimine jõudlust ja võimaldab lihtsam skaleerimist. On erinevate eraldamine tehnika, nt horisontaal-, vertikaal, ja funktsionaalne. Saate nende kombinatsioon maksimaalset kasu suurem päringu jõudluse, lihtsam skaleeritavus, juhtimiseks, parem kättesaadavus ja vastavus poodi selle peal andmete tüüpi. Lisaks, kaaluge erinevat tüüpi andmesalve eri tüüpi andmeid, valides tüübid, kuidas nad on optimeeritud kindlat tüüpi andmete põhjal. See võib sisaldada tabelimälu, dokumendi andmebaasi või veeru-perekond andmesalve, asemel, või kui ka nimega relatsiooniandmebaasist abil. Lisateabe saamiseks vt [andmete eraldamine juhiseid](best-practices-data-partitioning.md).
- **Lõpliku järjepidevuse kujundus**. Lõpliku järjepidevuse parandab skaleeritavus vähendada või eemaldamise aega, et üle mitme poed liigendatud seotud andmete sünkroonimine. Toote hind on, et andmed ei ole alati kooskõlas kui see on kirjutuskaitstud ja mõned kirjutada toimingud võivad põhjustada konfliktide. Lõpliku järjepidevuse sobib juhul, kui samad andmed on sageli lugeda, kuid kirjutada harva. Lisateavet leiate teemast [Andmete järjepidevuse Primer](https://msdn.microsoft.com/library/dn589800.aspx).
- **Vähendamine jutukas vastastikune komponendid ja teenused**. Vältida kujundamise kasutusviisid, kus on vajalik rakendus teenuse mitme kõne (mis tagastab andmed väike) asemel ühe kõne, mis võib tagastada kõik andmed. Võimaluse korral ühendada mitu seotud toiminguid ühe päringu teenuse või osa, mis sisaldab märgatav latentsus kõne korral. See on hõlpsam jälgida jõudlus ja optimeerida keerukate toimingud. Näiteks salvestatud toimingute abil andmebaase kapseldada keerukate loogika ja edasi-tagasi ja ressursside lukustamine arvu vähendamiseks.
- **Järjekorda töötluse ootele tase laadi kõrge kiiruse andmete kirjutab jaoks kasutada**. Klõpsake vajadusel teenuse saate uputama selle teenuse ja suurenevad tõrkeid põhjustada. Selle vältimiseks kaaluge rakendamise [järjekorda vastavalt laadi tasanduskihid mustri](https://msdn.microsoft.com/library/dn589783.aspx). Kasutage järjekorda, mis toimib ka puhvrit tööülesande ja teenuse, et see viitab vahel. See saab sujuv vahelduva raske laadimise, mis muidu võib põhjustada teenuse nurjumise või tööülesande jõuda ajalõpuni.
- **Minimeeri andmesalve koormus**. Andmesalve on tavaliselt töötlemine olukord kulukas ressurssi, ja sageli ei ole lihtne välja skaala. Võimaluse korral andmete poest loogika (nt töötlemine XML-dokumendid või JSON objektide) eemaldada ja teha töötlemiseks rakenduses. Näiteks mitte saata XML-i andmebaasiga (v.a läbipaistmatu stringina Storage), serialiseerida või andmeatribuutide XML-i rakenduse kiht sees ja andke seda vorm, mis on levinud andmesalve. See on tavaliselt märksa lihtsam mastaapimiseks andmesalve, kui välja nii, et proovite tuleks teha nii palju Arvuta mahukat töötlemise võimalikult rakendusest.
- **Minimeeri andmete maht tuua**. Laadi alla ainult soovitud andmed, mida teil on vaja määrata veergude ja ridade valimiseks kriteeriumide kasutamise. Veenduge, et tabel väärtus parameetrite kasutamine ja vastav eraldamise tasemeks. Kasutage menetlustele (nt üksuse silte, et vältida andmete toomine asjatult).
- **Agressiivselt kasutamiseks vahemällu**. Kasutage võimaluse korral vähendada materjale ja teenuseid, mida luua või esitamisel andmete vahemällu. Vahemällu on tavaliselt sobiv andmed on üsna staatiline või, mis nõuab märkimisväärset töötlemine saada. Vahemällu peaks toimuma kõigil, võimalusel taotluse, sh andmed Accessi ja kasutajale kasutajaliidese genereerimine kihiti. Lisateabe saamiseks vt [Vahemällu juhised](best-practices-caching.md).
- **Andmete growth ja säilitus**. Rakenduse salvestatud andmehulga kasvab aja jooksul. See suurendab salvestusruumi kulusid ning suureneb latentsuse andmete kasutamisel – rakenduse läbilaskevõime ja jõudlust mõjutav. See võib olla võimalik perioodiliselt arhiivimine mõnda vana andmeid, mis pole enam või andmeid, mis on harva viimine pikemaks, mis on tasuvust, isegi juhul, kui juurdepääsu latentsus on suurem.
- **Optimeerimine edastamine andmeobjektid (DTOs) tõhusa binary-vormingus**. DTOs edastatakse vahelt rakenduse mitu korda. Suuruse minimeerimine vähendab materjale ja võrgu koormus. Siiski saldo säästude tipugaas nõutud vormingusse iga kohas, kus kasutatakse andmete teisendamine. Vastu vormingut, mida on maksimaalne interoperability, et komponent lihtne taaskasutada.
- **Määrake vahemälu juhtelement**. Kujundage ja konfigureerida rakendus kasutada väljundi vahemällu või fragment vahemällu minimeerimiseks töötlemine laadimise võimaluse korral.
- **Luba kliendi pool vahemällu**. Veebirakenduste tuleks lubada vahemälusätete sisu, mida saab kopeerida. See on tavaliselt vaikimisi keelatud. Konfigureerida esitamisel vastav vahemälu juhtelemendi päised vahemällu puhverserverid ja kliendid sisu lubada.
- **Kasuta Azure'i bloobimälu ja Azure sisu kohaletoimetamise võrgu vähendada rakenduse koormus**. Kaaluge talletamine staatilise või suhteliselt staatilise avaliku sisu, nt pildid, ressursid, skripte ja laadilehti, bloobimälu. Seda moodust vähendab rakenduse koormusest tingitud dünaamiliselt genereerimine iga taotlus selle sisu. Lisaks, kaaluge sisu kohaletoimetamise võrgu vahemälu sisu ja pakkuda seda kliendid. Sisu kohaletoimetamise võrgu abil saate parandada jõudlust kliendis, kuna sisu on esitatud geograafiliselt lähima andmekeskuse, mis sisaldab sisu kohaletoimetamise võrgu vahemälu kaudu. Lisateabe saamiseks vt [Sisu kohaletoimetamise võrgu juhised](best-practices-cdn.md).
- **Optimeerimine ja tune SQL-päringud ja registrid**. Mõned T-SQL-lauseid või importida võib mõjutada jõudlust, mida saab vähendada optimeerida salvestatud protseduuri koodi. Näiteks vältida **kuupäeva ja kellaaja** tüüpide teisendamine on **varchar** enne võrrelda sõnasõnaline väärtus **datetime** . Kasutage selle asemel kuupäeva/kellaaja võrdlus funktsioone. Puuduvad vajalikud indeksid saate ka päringu käivitamine on aeglane. Kui kasutate mõnda objekti/relatsiooniline vastenduse framework, aru, kuidas see töötab ja kuidas see võib mõjutada jõudlust andmed Accessi kiht. Lisateavet leiate teemast [Päringu häälestamine](https://technet.microsoft.com/library/ms176005.aspx).
- **Kaaluge tühistage normaliseerida andmed**. Andmete normaliseerimine aitab vältida dubleerimine ja vastuolu. Siiski säilitades mitme registrid, viitamistervikluse kontrollimine, läbimiseks mitme avab, et väike osa andmeid ja liitumise tabelite uuesti kokku andmed põhjustab mõne pea kohal, mis võivad mõjutada jõudlust. Kaaluge võimalust, kui mõni täiendav salvestusruum helitugevust ja kordamist on aktsepteeritav, et vähendada andmesalve. Samuti võtke arvesse, kui rakendus ise (mis on tavaliselt lihtsam mastaapimiseks) on usaldusväärsed tööülesandeid hallata viitamistervikluse selleks, et vähendada andmesalve üle võtta. Lisateabe saamiseks vt [andmete eraldamine juhiseid](https://github.com/mspnp/azure-guidance/blob/master/Data%20partitioning.md).

## <a name="service-implementation"></a>Teenuse rakendamine
- **Kasutage asünkroonne kõned**. Kasutage asünkroonne kood võimaluse juurdepääsul ressursid või teenuseid, mis võib olla piiratud I/O või võrgu läbilaskevõime või mida on märgatav latentsus, lukustamine helistaja jutulõnga vältimiseks. Rakendab asünkroonne, kasutage [Toimingupõhise asünkroonne mustri (PUUDUTAGE)](https://msdn.microsoft.com/library/hh873175.aspx).
- **Vältida lukustamine ressursse, ja kasutage selle asemel loodetav lähenemisviisi**. Kunagi lukustamine juurdepääsu nagu salvestusruumi või muid teenuseid, mis on märgatav latentsus, kuna see on esmane põhjus jõudlus. Kasuta alati loodetav lähenemisviisi samaaegseid toimingud, nagu salvestusruumi haldamine. Salvestusruumi kiht funktsioonide abil saate hallata konfliktide. Jaotatud rakendustes võib olla ainult lõpuks ühtsete.
- **Väga compressible andmed üle pika latentsusajaga väikese läbilaskevõimega võrkude tihendada**. Enamikul juhtudel veebirakenduse, on suurema hulga andmete rakenduse genereeritud ja võrgu kaudu edasi HTTP kliendi reageerimine. HTTP-tihendamist saab vähendada see märkimisväärselt, eriti staatiliseks sisuks. See võib kulu ning vähendada laadi võrgus, kuigi tihendamise dünaamilise sisu rakendamine natuke suurem koormus serveris. Muude, generalized keskkonnas, andmete pakkimine saate andmete mahu vähendamiseks ja minimeerida üleviimise aeg ja kulud, kuid tihendamise ja rõhu protsessid tekkida pea kohal. Sellisel kujul tihendamise võib kasutada ainult väljendatud gain jõudlust korral. Sariväljaanne meetodid, nt JSON- või kahendarvu kodeeringute, võib ajal vähem mõjutavad jõudlust last mahu vähendamiseks XML-i tõenäoliselt suurendada.
- **Minimeeri aega, mida ühendused ja ressursid on kasutusel**. Kui peate kasutama neid säilitada ühendused ja ainult ressursid. Näiteks avage ühendused võimalikult lõpus ja neile reageerida kiiresti tagastada ühenduse pool. Hankige ressursid võimalikult hilinenud ja kõrvaldada need kiiresti.
- **Minimeeri ühenduste arv nõutav**. Ühendused ressursid vastu võtta. Piirata arvu, mis on nõutavad ja veenduge, et olemasolevad ühendused on uuesti kasutada iga kord, kui see on võimalik. Näiteks pärast autentimist, kasutage isikustamine vajaduse korral nimega kindla identiteedi koodi käivitada. See aitab teha parim kasutamine ühenduse korduskasutusega ühendused.

    > [AZURE.NOTE]: APIs for some services automatically reuse connections, provided service-specific guidelines are followed. It's important that you understand the conditions that enable connection reuse for each service that your application uses.

- **Päringuid pakettidena optimeerida võrgu kasutamine**. Näiteks saata ja loetud sõnumite pakkidena järjekorda kasutamisel ja tegutsemine partii mitme loeb või kirjutab salvestusruumi või vahemälu kasutamisel. See aitab maksimeerimine tõhusust teenuste ja salvestab vähendades arvu võrgus.
- **Vältida säilitada serveripoolse seansi olek** võimaluse. Serveripoolne olekus seansihaldus tavaliselt nõuab kliendi kuuluvuse (mis on, marsruutimine iga taotluse sama serveri eksemplari), mis mõjutab süsteemi võimalus skaala. Ideaalvariandis mitte kujundate kliendid olla kodakondsuseta serverid, et nad suhtes. Siiski kui rakendus peab seansi olek säilitamiseks salvestada tundlikku teavet või iga kliendi suuri andmemahtusid serveripoolne jaotatud vahemälu, millele pääsete juurde rakenduse kõik eksemplarid.
- **Optimeerimine tabeli salvestusruumi skeemid**. Tabeli- ja veerunimesid edasi ja iga Queryga Azure'i tabelimälu, nt töödeldav nõudvate tabeli poed kasutamisel kaaluge lühemaks nimed vähendada pea selle kohal. Siiski ohverda loetavuse või hallatavust liiga tihendatud nimede abil.
- **Kasutage selle tööülesande paralleelselt teek (TPL) asünkroonne toimingute tegemiseks**. Funktsiooni TPL lihtne asünkroonne koodi, mida ma/O-seotud tehete kirjutamine. Kasutage _ConfigureAwait(false)_ võimaluse teatud sünkroonimise kontekstis jätkumise sõltuvust kõrvaldamiseks. See vähendab teemat-tupik esinevate võimalusi.
- **Loo ressursi sõltuvused juurutamisel või rakenduse käivitamisel**. Vältige korduvate kõned viise, mida ressursi olemasolust katsetamine ja seejärel looge ressurss, kui see pole olemas. ( _CloudTable.CreateIfNotExists_ ja _CloudQueue.CreateIfNotExists_ Azure salvestusruumi kliendi teegis tehke seda mudelit). Järgmised võimalused saate määrata märkimisväärne pea kohal, kui nad käivitas enne iga juurdepääsu salvestusruumi tabeli või salvestusruumi järjekorda. Selle asemel:
 - Nõutav ressursside loomine rakenduse juurutamisel või esmalt käivitumisel (ühe kõne _CreateIfNotExists_ iga ressursi veebis või töötaja rolli käivitus kood on aktsepteeritav). Siiski kindlasti toime erandid, mis võivad tekkida siis, kui teie kood proovib juurde pääseda ressurss, mida pole olemas. Sel juhul tuleks logige erand ja teatada tehtemärgi ressursi puudub.
 - Mõnel juhul võib loomiseks puuduva ressursi töötlemise kood erandi osana. Kuid see lähenemine ettevaatusega võtma nii ressursi olemasolu võib olla programmeerimise tõrge (ressursi valesti kirjutatud nimi näiteks) või muude taristu taseme probleemi.
- **Kasutage kerge raamistik**. Valige hoolikalt API-d ja raamistik abil minimeerida ressursikasutus, täitmisaeg ja üldine koormus rakendus. Näiteks Web API abil saate teha päringuid saate vähendamine rakenduse andmed väiksemates vähem ruumi ja täitmise kiirendada, kuid ei pruugi sobib täpsemalt stsenaariumid, kus täiendavate võimaluste Windows Communication Foundation on nõutav.
- **Kaaluge teenuse kontode arvu vähendamiseks**. Näiteks kasutada Accessi ressursid kindlat kontot või teenused, mida ühendustele kehtestada või teha parem, kus säilitatakse vähem ühendused. See lähenemine on levinud teenuste nt andmebaaside jaoks, kuid see võib mõjutada võimalus täpselt auditi toimingud isikustamine algse kasutaja tõttu.
- **Teostada jõudluse profiili ja laadimise** ajal arendamise käigus testi moodulid ja enne lõppväljaandeks tagamiseks rakendus ja skaalasid vastavalt vajadusele. See testimine peaks toimuma sama tüüpi riistvara tootmise platvormi ja sama tüüpi ja andmehulgad ja kasutajale laadimine, nagu see tekib valmistamisel. Lisateabe saamiseks lugege teemat [testimine pilveteenus jõudlus](vs-azure-tools-performance-profiling-cloud-services.md).
