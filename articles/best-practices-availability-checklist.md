<properties
   pageTitle="Kättesaadavus kontroll-loend | Microsoft Azure'i"
   description="Kontroll-loend, mis annab juhised kättesaadavus probleemid ajal kujundus."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="masimms"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="availability-checklist"></a>Kättesaadavus kontroll-loend

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="application-design"></a>Rakenduse kujundus

- **Vältige mis tahes ühe punkti tõrge.** Kõik komponendid, teenused, materjale ja Arvuta eksemplarid tuleb kasutada nii mitmes eksemplaris tõrge ühtne takistada mõjutamata kättesaadavus. See hõlmab autentimist. Kujundage rakenduse konfigureeritav kasutada mitmes eksemplaris, kui soovite, et automaatselt avastada tõrkeid ja taotlused-nurjus eksemplari, kus platvormi ei ole see automaatselt ümber suunata.
- **Lagunevad erinevate teenusetaseme leping töökoormus.** Kui teenus koosneb kriitilised ja vähem kriitilised töökoormus, neid teisiti hallata ja määrata teenuse funktsioonid ja nende kättesaadavus nõuetele vastavuse eksemplaride arv.
- **Minimeerimine ja teenuse sõltuvused mõista.** Erinevad teenused võimaluse arvu vähendada ja veenduge, et teil mõista kõigi funktsioonide ja teenuste sõltuvused, mis on olemas süsteem. See sisaldab järgmisi sõltuvused laadi ja mõju tõrge või vähendatud konkreetse rakenduse üldise jõudluse. Microsoft tagab vähemalt 99,9 protsenti-saadavus jaoks enamiku teenuste jaoks, kuid see tähendab, et iga täiendava teenuse rakendus sõltub potentsiaalselt vähendab üldist kättesaadavust SLA teie süsteemi 0,1%.
- **Kujunduse tööülesandeid ja sõnumeid idempotent (turvaline korratavad) võimaluse**, nii et mis dubleeritud taotlusi ei põhjustada probleeme. Näiteks teenuse võib toimida tarbija, mis tegeleb nimega taotlused süsteemi mujal, mis toimivad tootjate poolt saadetud sõnumid. Tarbija nurjumisel pärast sõnumi töötluse, kuid enne tunnistades, et see on töödeldud tootja võib esitada korrake taotlus, mis võib käsitleda teise astme tarbija. Seetõttu tuleks tarbijate ja tehtud toimingute idempotent, et korduv eelnevalt sooritatud toiming ei muuda tulemused sobimatu. See tähendab, tuvastamine dubleeritakse sõnumeid või järjepidevuse tagamine Handling konfliktide loodetav lähenemisviisi abil.
- **Kasutage ta sõnum, mis rakendab kõrge kättesaadavus kriitilisi tehingud.** Mitme stsenaariumid algatamiseks tööülesannete või remote teenustele juurdepääsuks kasutada sõnumside edasi juhiseid rakenduse ja target teenuse vahel. Parima jõudluse tagamiseks rakendus peaks oskama sõnumit saata, ja seejärel naasmiseks rohkem taotlused, ilma et vastuse ootamine. Meilisõnumite kohaletoimetamise tagamiseks sõnumisüsteemist üle peaks andma kõrge kättesaadavus. Azure'i teenus siini teatejärjekordi rakendada _vähemalt ühe korra_ semantika. See tähendab, et iga sõnumi postitatud järjekorda ei lähe kaotsi, kuigi koopiate võib toimetada teatud tingimustel. Kui sõnumi töötlemine on idempotent (vt eelmisele üksusele), mida korratakse kohaletoimetamine ei tohiks probleemi.
- **Kujundus rakenduste nõtkelt näevad** ressursi piirangud ja võtta vastav toimingu jõudes selle mõju kasutajale minimeerimiseks. Mõnel juhul rakenduse koormus ei tohi ületada võimsus ühte või rohkem osi, mis põhjustavad vähendatud kättesaadavus ja ühendused nurjus. Skaleerimist aitab see leevendada, kuid see võib jõuda määratud muud tegurid, nt ressursside kättesaadavus või hind. Kujundage rakenduse, et sellisel juhul see saab automaatselt halvendada nõtkelt. Näiteks pood süsteemis kui alasüsteemi töötlemine on pingutamist all (või ei ole isegi täielikult), saab selle ajutiselt keelata muud funktsioonid (nt sirvimine tootekataloogi) lubades jätkata. See võib olla vaja edasi lükata taotluste vastasel alasüsteemi, näiteks endiselt võimaldab klientide tellimused esitada, kuid nende salvestamine hilisemaks töötlemiseks, kui tellimuste alasüsteemi on saadaval uuesti.
- **Nõtkelt toime kiire purune sündmused.** Enamiku rakenduste vaja erineva töökoormus aja jooksul, nt esimese asjana hommikul ärirakendusi või uue toote väljaandmisel pood saidil peaks käsitlema. Automaatne skaleerimist aitab toime laadi, kuid see võib võtta aega täiendavate eksemplaride veebis ja päringute töötlemiseks. Tegevuste ootamatutele puruneb takistada üle rakenduse: kujundada seda järjekorda taotluste kasutab teenuseid ja halvendada nõtkelt kui järjekorrad on täielik võimsus lähedal. Veenduge, et seal on piisavalt jõudlus ja võimsus-Purskahtaa tingimustel järjekorrad tühjendada ja käsitlemiseks tasumata taotlused saadaval. Lisateabe saamiseks vt [järjekorda vastavalt laadi tasanduskihid mustri](https://msdn.microsoft.com/library/dn589783.aspx).

## <a name="deployment-and-maintenance"></a>Juurutamise ja hooldus

- **Juurutada rollid iga teenuse jaoks mitu eksemplari.** Microsoft teeb kättesaadavus garantiid teenuste, luua ja juurutada, kuid need garantiid kehtivad ainult siis, kui juurutate vähemalt kaks eksemplari iga rolli teenus. See võimaldab ühe rolli saadaval olla, kuigi teine oleks aktiivne. See on eriti oluline, kui teil on vaja juurutada värskenduste reaalajas süsteemi katkestamata klientide tegevuste; eksemplari saate maha võtta ja uuendatud eraldi, kuigi teised võrgus.
- **Host rakenduste mitme andmekeskuste.** Kuigi äärmiselt tõenäoline, on võimalik on kogu andmekeskuse vallasrežiimi kaudu sündmus, näiteks loodusõnnetuse või Interneti-tõrge. Oluline ärirakenduste peaks olema majutatud rohkem kui üks andmekeskuses esitada maksimaalne kättesaadavus. See ka vähendada latentsus kohaliku kasutajatele ja pakuvad paindlikkust värskendamise.
- **Automatiseerimine ja testida juurutus-ja hooldustöid.** Hajutatud rakendusi koosneb mitu osa, mis tuleb koos töötada. Juurutamise peaks seetõttu automatiseeritud, kasutades testitud ning menetlustele, nt skripte ja juurutamise rakendused. Neid värskendada ja konfiguratsiooni valideerimiseks ja juurutamise automatiseerida. Värskenduste kõigi või osade taotluste täitmiseks tuleks kasutada ka automatiseeritud meetodite abil. On oluline, kõik need protsessid täielikult, et tagada, et tõrkeid põhjustada täiendavaid tööseisakute testida. Kõik juurutamise tööriistad peab olema sobivad jagataks piiranguteta kaitsta juurutatud rakendusega; määratleda ja juurutamise poliitikad jõustada hoolikalt ja minimeerida inimsekkumist.
- **Kaaluge lavastus ja tootmise funktsioonid platvormi** kui need on saadaval. Näiteks kasutades Azure pilveteenustega lavastus keskkondade võimaldab rakenduste ühest teise kiire kaudu virtuaalse IP address vahetamine (VIP vahetamine) vahetada. Siiski kui eelistate etapp asutusesiseselt, või juurutada erinevate versioonide rakenduse samaaegselt ja kasutajate migreerimine järk-järgult, te ei saa kasutada VIP Vaheta toiming.
- **Rakenda konfiguratsioonimuudatuste ilma ringlussevõtu** eksemplari, kui võimalik. Paljudel juhtudel saab muuta Azure rakenduse või teenuse sätete konfigureerimine nõudmata roll tuleb taaskäivitada. Roll seada sündmused, mis võib käsitleda konfiguratsioonimuudatuste tuvastada ja komponentide rakendusest rakendamine. Mõne muudatuse core platvormi sätted nõuda rolli tuleb taaskäivitada. Kui hoone komponente ja teenuseid, maksimeerimiseks kättesaadavus ja minimeerimiseks tööseisakute kujundamisega need konfiguratsioonisätted muudatuste aktsepteerimiseks ei ole vaja kogu rakenduse taaskäivitamist.
- **Kasutage täiendamine domeenide null seisakuaja ajal värskendused.** Azure'i arvutada üksused nagu web ja töötaja rolli eraldatakse versioonile domeenid. Täiendamine domeenide rühmitada rolli aknad nii, et kui jooksva update toimub, iga rolli täiendamine domeeni on peatatud, värskendada ja omakorda uuesti. See vähendab mõju rakenduse kättesaadavus. Saate määrata, kui palju täiendamine domeenide jaoks luuakse teenuse teenuse juurutamisel.

    > [AZURE.NOTE] Rollide levitatakse ka viga domeenides, millest igaüks on mõistlik sõltumatu muude viga domeenide serveri sektsioon, power ja jahutus sätte selleks, et kõik rolli aknad mõjutamata tõrke märgiks. Selle jaotuse ilmneb automaatselt ja te ei saa seda kontrollida.

- **Azure'i virtuaalmasinates kättesaadavus komplektid konfigureerimine.** Kahe või enama virtuaalmasinates paigutamine sama kättesaadavus määramine tagab, et need virtuaalmasinates ei juurutatud sama viga domeeni. Kättesaadavus maksimeerimiseks tuleks luua mitu eksemplari iga kriitilised virtuaalse masina kasutavad teie süsteemi ja paigutada need eksemplarid samu kättesaadavus. Kui teil on mitu virtuaalmasinates, mis erinevad eesmärgid, luua iga virtuaalse masina seadmine olemasolu. Lisage iga virtuaalse masina eksemplarid kättesaadavus igas kogumis. Näiteks kui olete loonud eraldi virtuaalmasinates toimida veebiserverisse ning aruandlusteenuste server, luua seadmine veebiserver saadavus ja muu kättesaadavus aruandlusteenuste serveri määramine. Lisada eksemplarid web serveri virtuaalse masina web serveri kättesaadavuse seadmine ja lisamiseks eksemplarid aruandlusteenuste serveri virtuaalse masina aruandlusteenuste serveri kättesaadavus.

## <a name="data-management"></a>Andmehaldus

- **Andmete kopeerimine ära** kohalikke ja geograafiliste koondamise kaudu. Azure storage andmete kopeeritakse automaatselt kaitsta kaotsimineku korral taristu ja mõned aspektide kopeerimist saate konfigureerida. Näiteks võib kopeeritud andmete kirjutuskaitstud eksemplari, rohkem kui ühe geograafilise piirkonna (nimetatakse lugemisõigus – globaalselt liigsete salvestusruumi või RA-GRS). Pange tähele, et abil RA-GRS andmesidekasutusele lisatasud. Lisateavet leiate teemast [Azure salvestusruumi hinnad](https://azure.microsoft.com/pricing/details/storage/).
- **Kasutage loodetav kokkulangevus ja lõpuks järjepidevuse** võimaluse. Tehingud, et Blokeeri juurdepääs abil lukustamine (kardetav kokkulangevus) võib põhjustada jõudlus ja märgatavalt vähendada kättesaadavus. Need probleemid võivad muutuda eriti ägeda jaotatud spikritest. Paljudel juhtudel saate ettevaatlik kujundus ja näiteks eraldamine sulgu vastuoluliste värskenduste jäävate võimalusi. Kui andmed on kopeeritud, või loetakse eraldi värskendatud poest, on andmed ainult lõpuks ühtsete. Kuid eelised tavaliselt palju suurem mõju kättesaadavus tehingud abil tagada kohe.
- **Perioodiliste varundus ja taaste punkti õigel ajal kasutada**, ja veenduge, et see vastab taastamine osutage eesmärk (RPO). Regulaarselt ja automaatselt ei säilitata mujal andmete varundamine ning veenduge, et saate usaldusväärselt taastada nii andmete ja ise rakendus peaks ebaõnnestuda. Andmete kopeerimine ei ole varukoopia funktsioon, sest tõrgete ja vastuolusid tõrge, viga või pahatahtlik toimingute kaudu kuvatakse kopeeritud üle kõik poed. Varundamist peab olema turvaline ning laos andmete kaitsmiseks. Andmebaaside või andmete poe osad tavaliselt taastada eelmises punktis aega, kasutades tehingute registrid. Microsoft Azure'i pakub andmed salvestatakse Azure'i SQL-andmebaasi varukoopia. Andmete eksporditakse Azure'i bloobimälu varukoopia paketi ja turvaline kohapealse asukoht salvestusruumi saate alla laadida.
- **Kõrge-saadavus suvandi on Azure Redis vahemälu teisene koopia säilitamiseks lubada.** Azure'i Redis vahemälu kasutamisel valige standard suvand sisu teisene koopia säilitamiseks. Lisateavet leiate teemast [loomine Azure Redis vahemälu vahemälu](https://msdn.microsoft.com/library/dn690516.aspx).

## <a name="errors-and-failures"></a>Tõrgete ja tõrkeid

- **Tutvustage ajalõpp.** Vahendite võib muutuda pole saadaval, mis põhjustavad kutsed nurjuvad. Veenduge, et ajalõpud, saate rakendada sobivad iga teenuse või ressursside samuti klient, mis kasutab neid. (Mõnel juhul see võib olla asjakohane lubada rohkem ajalõpp kindla eksemplari klient, sõltuvalt konteksti ja muude toimingute kliendi sooritav.) Lühikese ajalõpud võib põhjustada liigse uuesti teenuste ja ressursse, mis on märkimisväärselt latentsus toimingute. Väga pikaks ajalõpud, võivad põhjustada sulgeda, kui suure hulga taotlused järjekorda, teenuse või ressursside vastamise ootamine.
- **Proovige nurjunud põhjustatud siirdamiseks toimingud.** Proovi uuesti strateegia kõigile teenustele juurdepääsuks ressursse, kui nad potentsiaalselt toetada Automaatne ühendus uuesti. Kasutage strateegia, mis sisaldab ka suurenevad viivitus korduste arv suureneb tõrkeid, ressursi ülekoormuse vältimiseks ja lubada rakendusel seda taastada ja käsitlemiseks järjekorras olevate taotluste nimega vahel. Pideva korduskatsed koos lühikese viivitused tõenäoliselt halvendada probleemi.
- **Taotlusi kaskaadlaadistiku tõrgete vältimiseks saatmise lõpetada** , kui remote teenused on saadaval. Võib tekkida olukordi, kus mööduv või muid vigu, siniseni raskusaste osalist kaotsiminekut Ühenduvus täieliku jätmist teenuse võtta palju oodatust normaalne. Lisaks, kui teenus on väga hõivatud, üks osa süsteemi võib põhjustada tõrkeid kaskaadlaadistiku ja tulemuseks palju tegevust muutumas blokeeritud hoides peale kriitilise süsteemi ressursse, nt mälu, teemad ja andmebaasi ühendus. Asemel pidevalt uuesti proovimine toiming, mis ei õnnestu, rakendus peaks kiiresti Aktsepteeri, et toiming on nurjunud ja nõtkelt toime selle tõrke. Lüliti mustri abil saate kõnest taotlusi teatud toimingute jaoks määratletud perioodi. Lisateavet leiate teemast [Lüliti mustri](https://msdn.microsoft.com/library/dn589784.aspx).
- **Koostamine või langeb tagasi mitme komponendid** on võrguühenduseta või kättesaamatu kindla teenuse mõju leevendada. Kujundage rakenduste ära võimaluse mitmes eksemplaris ilma mõjutavad toiming ja olemasolevad ühendused. Kasutage mitmes eksemplaris ja kutsed, levitada ja tuvastada ja vältida päringu saatmine nurjus eksemplarid, et maksimeerimine kättesaadavus.
- **Muu teenuse või töövoo sügis** võimaluse. Näiteks kui SQL-andmebaasiga kirjutamist nurjub, ajutiselt salvestada andmed bloobimälu. Sisestage võimalus kordus kirjutab sisse bloobimälu SQL-andmebaasiga, kui teenus on saadaval. Mõnel juhul nurjunud toimingut võib-olla alternatiivne toimingu rakendusel on endiselt kasutada, isegi kui, komponent või teenuse nurjub. Võimaluse korral tuvasta tõrkeid ja ümber suunata muude teenustega, et pakkuda sobiv alternatiivne funktsioone või varundamiseks taotluste või vähendatud funktsionaalsusega eksemplarid, mis saate säilitada ülesanded ajal esmane teenus on ühenduseta.

## <a name="monitoring-and-disaster-recovery"></a>Jälgimine ja Avariijärgne taaste

- **Sisesta rikkaliku instrumentation tõenäoliselt tõrkeid ja tõrge sündmuste** olukord toimingute töötajate teatada. Jaoks tõrkeid mis on tõenäoline, kuid pole veel ilmnenud, piisavalt teavet lubamiseks toimingute töötajad põhjuse, leevendada olukorda ja veenduge, et süsteem on endiselt saadaval. Juba ilmnenud tõrkeid, rakendus peaks naaske kasutaja korral kuvatakse tõrketeade, kuid soovite jätkata töötab, ehkki koos vähendatud funktsionaalsus. Igal juhul tuleks kontroll jäädvustada täielik üksikasjad toimingute töötajad kiireks taastamiseks, et lubada ja vajadusel kujundajad ja arendajad süsteemi vältida olukorda tekkida uuesti.
- **Rakendades veakontrolli funktsioonide süsteemi seisundi jälgimine.** Tervise ja jõudluse rakenduse saab halvendada aja jooksul, ilma märgatav, kuni see ei õnnestu. Rakendada sondid või kontrollida funktsioonid, mida on regulaarselt kaudu väljaspool rakendus. Kontrolli võib olla võimalikult lihtne mõõtmise vastuse kogu rakendus, üksikute osade rakendus, üksikuid teenuseid, mida rakendus kasutab või üksikute osade. Kontrolli funktsioonide käivitamiseks protsesside need lubatud tulemusi, mõõta latentsus ja saadavuse ja teavet ekstraktida süsteem.
- Need on saadaval ja käitamiseks ootuspäraselt **regulaarselt testida kõik Tõrkesiirde ja taandepäringud süsteemid** . Muudatuste süsteemid ja toimingud võivad mõjutada Tõrkesiirde ja taandepäringud funktsioone, kuid mõju ei saa tuvastada, kuni peamiseks ei või muutub ülekoormatud. Katsetage seda enne, kui see on vajalik hüvitamine käitusajal reaalajas probleem.
- **Testige funktsiooni abil.** Automatiseeritud Tõrkesiirde ja taandepäringud süsteemide ja käsitsi süsteemi seisundi ja jõudluse armatuurlaudade abil visualiseerimine, kõik sõltub jälgimine ja seadmeid, mis on õigesti. Kui need elemendid ei õnnestu, miss olulise teabe või aruande andmed, ei pruugi tehtemärgi aru, et süsteem on vigane või ta ei ole.
- **Edenemise pikaajalisi töövoogude jälitamine** ja proovige uuesti tõrke kohta. Pikaajalisi töövood sageli koosneb mitmest juhiseid. Veenduge, et iga etapi ei sõltu ja saate proovitakse vähendada võimalus, et kogu töövoo tuleb tagasi pöörata või et mitme pikkusega tehingud tuleb täita. Jälgimine ja haldamine edenemist pikaajalisi töövoogude rakendades näiteks [Scheduler Agent halduri mustri](https://msdn.microsoft.com/library/dn589780.aspx)mustri.
- **Avariitaastet kavandamine.** Veenduge, et dokumenteeritud, lubatud ja täielikult kontrollitud kavandamine taastamine mis tahes tüüpi tõrge, mis võib paikneda osa või kogu peamiseks pole saadaval. Testida toiminguid regulaarselt ja tagada, et kõik toimingud töötajate protsessiga.
